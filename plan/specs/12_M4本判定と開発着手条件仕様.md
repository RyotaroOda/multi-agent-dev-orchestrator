# M4本判定と開発着手条件仕様書 v0.2-draft

## 1. 目的

M4本判定（Go/Conditional Go/No-Go）を、AI駆動開発前提で再現可能に運用し、判定直後に開発着手できる条件（DoR）を明確にする。

## 2. スコープ

- 本判定会の運用手順
- 根拠ドキュメントの凍結運用
- 凍結期間の例外更新ルール
- Go判定時の初回着手条件（DoR）

## 3. 前提

- 判定対象は `v0.2 開発着手可否` とする。
- 本判定日は `2026-02-21` とする。
- 判定ルールは `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/M4_Go-No-Goチェックリスト.md` に従う。
- 判定体制は `ユーザー（最終判定） + AIプランナーエージェント（評価支援）` とする。

## 3.1 未決事項

- なし（AI駆動前提で確定済み）。

## 4. 機能要件

### FR-1201 本判定会の固定手順

- 本判定時刻は `2026-02-21 15:00（ローカル時刻）` を基準とする。
- 判定入力は次の順序で実施する。
  1. AIプランナーエージェントが G-001〜G-010 の判定案（Yes/No）と根拠を更新する。
  2. ユーザーが判定結果（Go/Conditional Go/No-Go）と理由を記録する。
  3. Conditional Go/No-Go の不足項目はバックログへ追加する。

### FR-1202 根拠ドキュメントの凍結運用

- 根拠ドキュメントの通常更新は `2026-02-20 18:00（ローカル時刻）` で停止する。
- 凍結対象は次のとおり。
  - `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/企画書.md`
  - `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/specs/*.md`
  - `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/リスク登録簿.md`
  - `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/バックログ.md`
  - `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/M4_Go-No-Goチェックリスト.md`
  - `/Users/ryotarooda/Desktop/マルチエージェント開発ツール/plan/意思決定ログ.md`

### FR-1203 凍結期間中の例外更新ルール

- 例外更新を許可するのは P0 のみとする。
- P0 と認める条件は次のいずれか。
  - セキュリティ優先順位A（漏えい防止）違反が判明した場合
  - 判定根拠の事実誤認が判明し、Go/No-Go結果を誤らせる場合
- 例外更新の最終承認者はユーザーとする。
- AIプランナーエージェントは例外更新時に根拠差分を提示する。
- 例外更新を行った場合、更新理由・承認者・更新時刻を `意思決定ログ` に追記する。

### FR-1204 Go判定時の初回着手Issue選定基準

- 初回着手対象は次を満たす Issue から選定する。
  - 優先度が `P0` または `P1`
  - 外部依存ブロッカーがない
  - 受け入れ条件が観測可能な文章で記述済み
  - セキュリティ例外ラベルの新規付与を必要としない

### FR-1205 Go判定時のDoR（Definition of Ready）

- 初回着手Issueは以下をすべて満たす。
  - 目的・受け入れ条件・非スコープが記載済み
  - 影響範囲（対象ファイル/ディレクトリ）が記載済み
  - テスト観点（正常系/異常系）が記載済み
  - 失敗時の `blocked_reason` ルールが紐づいている
  - 関連リスクIDが `リスク登録簿` に存在する

### FR-1206 PLN-019完了判定

- `PLN-019` を `done` に更新できるのは、次をすべて満たす場合のみとする。
  - G-001〜G-010 の判定案と根拠が記録されている。
  - ユーザー最終判定の入力手順と判定時刻が確定している。
  - 判定手順が参加確認前提を含まず、AI駆動前提に一致している。

## 5. 非機能要件

- 監査可能性: 本判定前後の更新履歴を追跡できること。
- 再現性: 同一入力に対して同一判定手順で運用できること。

## 6. 入出力契約

### 入力

- M4 Go/No-Goチェックリスト
- バックログ
- リスク登録簿
- 意思決定ログ

### 出力

- 本判定結果（Go/Conditional Go/No-Go）
- 判定理由と不足項目
- Go時の初回着手IssueとDoR確認結果

## 7. 異常系

- 判定時刻までにユーザー最終判定が未入力: `No-Go候補` として記録し判定延期する。
- AI判定案の根拠リンクが欠損: `Conditional Go候補` として不足項目を追加する。
- 凍結期間中にP0修正が発生: FR-1203 の例外更新手順で処理する。

## 8. 受け入れ条件

- 凍結停止時刻と例外更新ルールが1文書で参照可能である。
- 初回着手Issueの選定基準とDoRが明文化されている。
- 判定手順が AIプランナーエージェント + ユーザー の2者運用に一致している。

## 9. 未決事項

- なし（v0.2範囲で確定済み）。
